@model AgriEnergyConnect.Models.User
@{
    ViewData["Title"] = "Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Styles {
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
}

<div class="min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-md mt-12">
        <div class="bg-white rounded-xl form-container overflow-hidden shadow-md">
            <div class="hero-gradient py-6 px-6">
                <h2 class="text-2xl font-bold text-white text-center">Create Your Account</h2>
                <p class="text-white/90 text-sm text-center mt-1">Join our community today</p>
            </div>

            <div class="p-6 space-y-4">
                <form method="post" asp-action="Register">
                    <div asp-validation-summary="All" class="text-red-500 text-sm mb-4 error-message"></div>

                    <div class="space-y-4">
                        <div>
                            <label for="Email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="Email" name="Email" class="form-control w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="@Model?.Email" placeholder="your@email.com" />
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="FirstName" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                                <input type="text" id="FirstName" name="FirstName" class="form-control w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="@Model?.FirstName" placeholder="First Name" />
                            </div>

                            <div>
                                <label for="LastName" class="block text-sm font-medium text-gray-700 mb-1">Surname</label>
                                <input type="text" id="LastName" name="LastName" class="form-control w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="@Model?.LastName" placeholder="Last Name" />
                            </div>
                        </div>

                        <div>
                            <label for="Password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <input type="password" id="Password" name="Password" class="form-control w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="••••••••" />
                        </div>

                        <div>
                            <label for="ConfirmPassword" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
                            <input type="password" id="ConfirmPassword" name="ConfirmPassword" class="form-control w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="••••••••" />
                        </div>

                        <div>
                            <label for="Role" class="block text-sm font-medium text-gray-700 mb-1">Register As</label>
                            <select id="Role" name="Role" class="form-control w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none">
                                <option value="">-- Select Role --</option>
                                <option value="Farmer" selected="@(Model?.Role == "Farmer")">Farmer</option>
                                <option value="Employee" selected="@(Model?.Role == "Employee")">Employee</option>
                            </select>
                        </div>

                        <div class="flex items-center">
                            <input type="checkbox" id="showPassword" class="form-check-input h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" onclick="togglePasswordVisibility()">
                            <label for="showPassword" class="ml-2 block text-sm text-gray-700">Show Password</label>
                        </div>

                        <button type="submit" class="w-full hero-gradient hover:opacity-90 text-white font-medium py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                            Register
                        </button>
                    </div>
                </form>

                <div class="text-center text-sm text-gray-500">
                    Already have an account?
                    <a asp-controller="User" asp-action="Login" class="font-medium text-blue-600 hover:text-blue-500">Login</a>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        function togglePasswordVisibility() {
            const pwd = document.getElementById("Password");
            const confirmPwd = document.getElementById("ConfirmPassword");
            const type = pwd.type === "password" ? "text" : "password";
            pwd.type = type;
            confirmPwd.type = type;
        }
    </script>
}
